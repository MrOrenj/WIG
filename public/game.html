<!DOCTYPE html>
<html>
<head>
  <title>Game</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .word-display {
      font-size: 2em;
      font-weight: bold;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      margin: 20px 0;
    }
    .word-display.normal {
      background-color: #51cf66;
      color: white;
    }
    .word-display.spy {
      background-color: #ff6b6b;
      color: white;
    }
  </style>
</head>
<body class="bg-dark text-white">

<div class="container mt-5">

  <!-- Role Display -->
  <div class="text-center mb-4">
    <h1 id="roleText">Loading...</h1>
  </div>

  <!-- Word Display (only shown during clue phase) -->
  <div id="wordContainer" style="display: none;">
    <div id="wordText" class="word-display"></div>
  </div>

  <!-- Clue Phase -->
  <div id="cluePhase" style="display: block;">
    
    <!-- Round Status -->
    <div class="alert alert-info" id="clueStatusContainer" style="display: none;">
      <p><strong id="clueStatusText"></strong></p>
    </div>

    <!-- Player Status -->
    <div class="mt-4">
      <h5>Player Status:</h5>
      <ul id="playerStatus" class="list-group mb-3"></ul>
    </div>

    <!-- Clue Input -->
    <div class="mt-4">
      <input id="clueInput" class="form-control" placeholder="Enter your clue">
      <button class="btn btn-success w-100 mt-2" onclick="sendClue()">Send Clue</button>
    </div>

    <!-- Clues List -->
    <h4 class="mt-4">Clues Received:</h4>
    <ul id="clueList" class="list-group"></ul>
  </div>

  <!-- Voting Phase -->
  <div id="votingPhase" style="display: none;">
    <div class="alert alert-warning">
      <h3 id="votingMessage"></h3>
    </div>
    
    <h4 class="mt-4">Vote for the SPY:</h4>
    <div id="playerVotes" class="list-group mt-3"></div>
    
    <div id="votesCounter" class="mt-4 text-center">
      <p><strong id="voteStatus"></strong></p>
    </div>
  </div>

  <!-- Round Result (shown between rounds) -->
  <div id="roundResultPhase" style="display: none;">
    <div id="roundResultContent"></div>
  </div>

  <!-- Game Over Phase -->
  <div id="gameOverPhase" style="display: none;">
    <div id="gameResult"></div>
    <div class="mt-4 alert alert-info">
      <p><strong>Eliminated:</strong> <span id="eliminatedName"></span></p>
      <p><strong>The Spy was:</strong> <span id="spyName"></span></p>
    </div>
    <button class="btn btn-primary w-100 mt-4" onclick="location.href='lobby.html?code=' + new URLSearchParams(window.location.search).get('code')">Back to Lobby</button>
  </div>

</div>

<script src="/socket.io/socket.io.js"></script>
<script>
  console.log("=== PAGE LOADED ===");
  console.log("DOM Ready - cluePhase display:", document.getElementById("cluePhase").style.display);
  console.log("Role element exists:", !!document.getElementById("roleText"));
  console.log("Word element exists:", !!document.getElementById("wordText"));
</script>
<script src="game.js"></script>
</body>
</html>